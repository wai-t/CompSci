<!DOCTYPE html>
<html>
    <head>
        <style>
            body {
                width: auto;
            }
            #algorithm {
                width: 1000px;
                left: 300px;
            }
            #array {
                /* display: flex;
                flex-direction: row; */
                width: 1000px;
                height: 250px;
                justify-content: center;
                align-items: center;
                background-color: blue;
                position: relative;
            }
            .array_element {
                display: flex;
                height: 50px;
                width: 50px;
                /* margin: 50px; */
                align-items: center;
                justify-content: center;
                /* border-color:yellow;
                border-style: solid;
                border-width: 2px; */
                border-radius: 10px;
                background-color: black;
                color: yellow;
                position: absolute;
            }
            .pointer {
                display: flex;
                position: absolute;
                width: 50px;
                height: 50px;
                align-items: center;
                justify-content: center;
            }
        </style>
    </head>
    <body>
        <script src="utils.js"></script>

        <div id = "algorithm">
            <h1 id = "title">Sorting algorithm</h1>
            <h2 id = "algorithm_name"></h2>
            <div id = "array">
            </div>
            <p id = "commentary">What's happening?</p>
            <div>
                <button onclick="reset()">Reset</button>
                <button onclick="selectionSort()">Selection Sort</button>
                <button onclick="cancelAnimation()">cancel</button>
            </div>
        </div>
        <script>
            async function selectionSort() {
                await cancelAnimation();
                animationBuffer = [];
                populateDatastore();
                displayData();

                let pointerJ = displayPointer("pointer_j.png",4,0);
                let pointerI = displayPointer("pointer_i.png",2,0);

                showAlgorithmName("Selection sort");
                showCommentary("Selection sort");

                for (i = 0; i<datastore.length-1; i++) {
                    animatePointer(pointerI, i, 2);
                    for (j = i+1; j<datastore.length; j++) {
                        animatePointer(pointerJ, j, 4);

                        if (datastore[i]>datastore[j]) {
                            doSwap(i,j);
                            // doRotate(i,j);
                        }
                    }
                }

                playAnimation();
            }

            reset();

        </script>
    </body>
</html>